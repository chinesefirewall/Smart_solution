# ! / u s r / bi n / p yt h o n 3
# s o u r c e : h t t p : / / www. b i n a r y t i d e s . com / p yt h o n−s o c k et −p rog ramming−t u t o r i a l /
#
# f u l l s o c k e t c l i e n t e xam ple i n p yt h o n
# f i l e : j u h e n di d −s o c k e t s −n u t i p r a k s −2020−code−c l i e n t −h t t p . py
# a d a pt e d by : J y r i J 6 u l
i m p o rt s o c k e t # f o r s o c k e t s
i m p o rt s y s # f o r e x i t
# i n i t i a l i s e c o n s t a n t s
h o s t = ’www. u t . ee ’
p o r t = 80
me s sa ge = "GET / HTTP / 1 . 0 \ r \ n \ r \ n "
b u f f e r _ s i z e = 4096
t r y :
# c r e a t e an AF_INET , STREAM s o c k e t (TCP)
s = s o c k e t . s o c k e t ( s o c k e t . AF_INET , s o c k e t . SOCK_STREAM)
e x c e p t s o c k e t . e r r o r a s msg :
p r i n t ( ’ . . . f a i l e d t o c r e a t e s o c k e t . . . e r r o r c o de : ’ + s t r ( msg . a r g s [ 0 ] ) + ’ ,
e r r o r me s sa ge : ’ + msg . a r g s [ 1 ] )
s y s . e x i t ( )
p r i n t ( ’ . . . s o c k e t c r e a t e d . . . ’ )
t r y :
r e m ot e _i p = s o c k e t . g et h o st b y n am e ( h o s t )
e x c e p t s o c k e t . g a i e r r o r :
# c o ul d n ot r e s o l v e
p r i n t ( ’ . . . h o st name c o ul d n ot be r e s o l v e d . . . e x i t i n g . . . ’ )
s y s . e x i t ( )
p r i n t ( ’ . . . IP a d d r e s s o f ’ + h o s t + ’ i s ’ + r e m ot e _i p )
# c o n n e ct t o r em ot e s e r v e r
s . c o n n e ct ( ( r em ot e _i p , p o r t ) )
p r i n t ( ’ . . . s o c k e t c o n n e ct e d t o ’ + h o s t + ’ on IP ’ + r e m ot e _i p )
# s e n d some d a t a t o r em ot e s e r v e r
t r y :
# s e n d s t r i n g e nc o de d a s b y t e s
